<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blender Render Service</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Blender Render Service</h1>
            <p>Upload your .blend file, .zip or .rar archive and let our server render it for you</p>
        </header>

        <main>
            <!-- Upload Section -->
            <section class="upload-section">
                <div id="dropZone" class="drop-zone">
                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <p class="drop-text">Drag & drop your .blend, .zip, or .rar file here</p>
                    <p class="or-text">or</p>
                    <button id="browseBtn" class="browse-btn">Browse Files</button>
                    <input type="file" id="fileInput" accept=".blend,.zip,.rar" hidden>
                    <p class="file-info">Maximum file size: 500MB</p>
                </div>

                <!-- Render Settings -->
                <div id="renderSettings" class="render-settings hidden">
                    <h3>Render Settings</h3>

                    <div class="setting-group">
                        <label for="formatSelect">Output Format</label>
                        <select id="formatSelect">
                            <option value="PNG">PNG (Image)</option>
                            <option value="JPEG">JPEG (Image)</option>
                            <option value="OPEN_EXR">OpenEXR (HDR)</option>
                            <option value="FFMPEG">MP4 (Video Animation)</option>
                        </select>
                        <small>Select MP4 for animated scenes with multiple frames</small>
                    </div>

                    <div class="setting-group">
                        <label for="samplesInput">Samples</label>
                        <input type="number" id="samplesInput" value="128" min="1" max="4096">
                        <small>Higher values = better quality but slower</small>
                    </div>

                    <div class="setting-row">
                        <div class="setting-group">
                            <label for="resolutionX">Width</label>
                            <input type="number" id="resolutionX" value="1920" min="1">
                        </div>
                        <div class="setting-group">
                            <label for="resolutionY">Height</label>
                            <input type="number" id="resolutionY" value="1080" min="1">
                        </div>
                    </div>

                    <div id="animationSettings" class="animation-settings hidden">
                        <h4>Animation Settings</h4>
                        <div class="setting-row">
                            <div class="setting-group">
                                <label for="frameStart">Start Frame</label>
                                <input type="number" id="frameStart" value="1" min="1">
                            </div>
                            <div class="setting-group">
                                <label for="frameEnd">End Frame</label>
                                <input type="number" id="frameEnd" value="250" min="1">
                            </div>
                        </div>
                    </div>

                    <button id="uploadBtn" class="upload-btn">Upload & Render</button>
                </div>
            </section>

            <!-- Progress Section -->
            <section id="progressSection" class="progress-section hidden">
                <h3>Rendering Progress</h3>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
                <p id="progressText" class="progress-text">Uploading...</p>
                <div id="progressDetails" class="progress-details"></div>
                <div id="jobInfo" class="job-info"></div>
            </section>

            <!-- Result Section -->
            <section id="resultSection" class="result-section hidden">
                <h3>Render Complete!</h3>
                <p class="success-message">Your render has been completed successfully.</p>
                <button id="downloadBtn" class="download-btn">Download Result</button>
                <button id="newRenderBtn" class="secondary-btn">Start New Render</button>
            </section>

            <!-- Error Section -->
            <section id="errorSection" class="error-section hidden">
                <h3>Error</h3>
                <p id="errorMessage" class="error-message"></p>
                <button id="retryBtn" class="secondary-btn">Try Again</button>
            </section>

            <!-- Jobs List -->
            <section class="jobs-section">
                <h3>Recent Renders</h3>
                <div id="jobsList" class="jobs-list">
                    <p class="no-jobs">No renders yet</p>
                </div>
                <button id="refreshJobsBtn" class="secondary-btn">Refresh</button>
            </section>
        </main>

        <footer>
            <p>Powered by Blender + NVIDIA GPU Acceleration</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
